<?xml version="1.0" encoding="utf-8"?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from ur5_stand.xacro                | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<!-- <xacro:include filename="$(find labs_400)/urdf/materials.xacro" /> -->
<robot name="conveyors">
  <!-- <material name="black">
    <color rgba= "0 0 1 1"/>
  </material> -->
  <!-- <material name="">
    <color rgba="0.75 0.75 0.75 1"/>
  </material> -->

  <!-- ... -->

  <link name="world" />

	<joint name="fixed" type="fixed">
		<parent link="world"/>
		<child link="small_conveyor"/>
		<origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0"/>
	</joint>

  <link name="small_conveyor">
    <!--2-->
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="/home/rodrigo_ta/mxet400_ws/src/mxet400_ros_labs/meshes/lab8_meshes/cobot_lab_small_conveyor.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="/home/rodrigo_ta/mxet400_ws/src/mxet400_ros_labs/lab8_meshes/cobot_lab_small_conveyor.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
    <inertial>
		<origin xyz="1.1327E-16 -3.3286E-17 0.66019" rpy="0 0 0" />
		<mass value="71.953" />
		<inertia ixx="7.5972" ixy="-1.394E-14" ixz="1.9328E-17" iyy="0.99673" iyz="-9.2056E-18" izz="8.1168" />
	</inertial>
    <!-- <inertial>
      <origin rpy="1.570796 0 0" xyz="0 0 0"/>
      <mass value="100.0"/>
      <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>
    </inertial> -->
  </link>



  <joint name="belt_joint" type="prismatic">
	<origin xyz="0.25 0.745 0.878" rpy="0.0 0.0 0.0"/>   <!-- The origin is actually Y, X, Z because this conveyor was rotated 90 deg-->
	<parent link="small_conveyor"/>
	<child link="belt_moving"/>
	<axis xyz="0 1 0"/>
	<limit lower="0.0" upper="0.1" effort="1000" velocity="1000"/>
	</joint>

  <link name="belt_moving">
	<inertial>
		<origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
		<mass value="100"/>
		<inertia ixx="0.0" ixy="0.0" ixz="0.0" iyy="0.0" iyz="0.0" izz="0.0"/>
	</inertial>
    <!-- <visual>
		<origin xyz="0.0 0.0 0.0005" rpy="0.0 0.0 0.0"/>
		<geometry>
			<box size="0.35 1.45 0.001"/>
		</geometry>
		<material name="test">
			<color rgba="1 0 1 1" />
		</material>
	</visual> -->
		
	<collision>
		<origin xyz="0.0 0.0 0.0005" rpy="0.0 0.0 0.0"/>
		<geometry>
			<box size="0.35 1.45 0.001"/>
		</geometry>
	</collision>
 </link>

	<gazebo>
		<plugin name="conveyor_belt_plugin" filename="libROSConveyorBeltPlugin.so">
			<robot_namespace>/</robot_namespace>
			<link>belt_moving</link>
			<power>0</power>
			<max_velocity>1.0</max_velocity>
		</plugin>
		<material>Gazebo/Black</material>
	</gazebo>

</robot>
